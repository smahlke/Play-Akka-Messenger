@import helper._ 

@(currentUser: User) @main("Chat") {

<div class="row">
	<br />
	<div class="col-sm-3">

		<div class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-heading">Kontakte</div>

			<!-- List group -->
			<ul class="list-group">
				@for(user <- Users.contactList()) {
				<li class="list-group-item"><a href="#">@user.getUsername()</a></li>
				}
			</ul>
		</div>
		<div class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-heading">Kontakte suchen</div>
		</div>
		@helper.form(action = routes.Application.addContact()) { 
		<input type="hidden" name="contactid" id="contactid" class="input-sm" />
		<input class="btn btn-default btn-sm glyphicon glyphicon-plus" type="submit" value="+"></input> }
	</div>
	<script type="text/javascript">
		
		$("document").ready(function() {			
			$.ajax({
				url : "@routes.Application.getAvailableUsers()",
				dataType : 'json',
				delay : 250,
				success: function(data){
					$('#contactid').select2({
						data : data,
						allowClear : true,
						placeholder : 'Benutzer ausw√§hlen',
						formatResult : formatPerson,
						formatSelection : formatPerson,
						escapeMarkup : function(markup) {
							return markup;
						},
						initSelection : function(element, callback) {
							var data = {
								id : element.val(),
								text : element.val()
							};
							callback(data);
						}
					});
	            }
			});			
		});
		
	</script>
	<div class="col-sm-9">Chat-Fenter</div>
</div>


}
